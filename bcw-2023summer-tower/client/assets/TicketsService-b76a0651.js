import{x as k,T as p,h as r,A as c,l as s,P as i}from"./index-792fb8e5.js";class a{constructor(e){this.id=e.id,this.eventId=e.eventId,this.accountId=e.accountId,this.profile=e.profile?new k(e.profile):null,this.event=e.event?new p(e.event):null}}class l{async getTicketsByEventId(e){try{const t=await r.get(`api/events/${e}/tickets`);c.tickets=t.data.map(n=>new a(n))}catch(t){s.error(t),i.error(t.message)}}async createTicket(e){try{const t=await r.post("api/tickets",{eventId:e});c.tickets.push(new a(t.data))}catch(t){s.error(t),i.error(t.message)}}async deleteTicket(){try{const e=c.tickets.find(t=>t.accountId==c.account.id);await r.delete(`api/tickets/${e.id}`),c.tickets=c.tickets.filter(t=>t.id!=e.id)}catch(e){s.error(e),i.error(e.message)}}async getAccountTickets(){try{const e=await r.get("account/tickets");c.accountTickets=e.data.map(t=>new a(t))}catch(e){s.error(e),i.error(e.message)}}}const u=new l;export{u as t};
